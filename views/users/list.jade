extends ../layout

block content
    h2 Users
    div.row
        div.col-lg-8
            div.margin-bottom
                h5 Pages:
                if (page_id > pagesarr[0])
                    a(href='/users/all/page/' + (parseInt(page_id) - 1)): span.hint.glyphicon.glyphicon-arrow-left
                    span &nbsp;&nbsp;
                else
                    span.hint.glyphicon.glyphicon-arrow-left(style='color:lightgray')
                    span &nbsp;&nbsp;
                each page, i in pagesarr
                    if (page == page_id)
                        span: b #{page}&nbsp;
                    else
                        span: a(href='/users/all/page/' + page)= page
                        span &nbsp;
                if (page_id < pagesarr.length)
                    a(href='/users/all/page/' + (parseInt(page_id)+1)): span.hint.glyphicon.glyphicon-arrow-right
                else
                    span.hint.glyphicon.glyphicon-arrow-right(style='color:lightgray')


            table.table.table-responsive.table-darkstyle
                thead
                    tr
                        th Login
                        th Name
                        th Email
                        th Phone
                        th Status
                        th Balance
                        th Reputation
                        th Paid till
                        th Registered
                tbody
                    each user, i in users
                        tr
                            td: a(href='/users/view/'+user._id): b.text-capitalize= user.login
                            td= user.name
                            td= user.email
                            td= user.phone
                            td
                                case user.status
                                    when 1
                                        span User
                                    when 2
                                        span.status-su Subscriber
                                    when 3
                                        span.status-mn Manager
                                    when 4
                                        span.status-adm Administrator
                                    default
                                        span strange status...
                            td= user.paid_till
                            td= user.balance
                            td= user.reputation
                            td= user.createdAt.toISOString().replace(/T/, ' ').replace(/\..+/, '')
            div
                h5 Pages:
                    if (page_id > pagesarr[0])
                        a(href='/users/all/page/' + (parseInt(page_id) - 1)): span.hint.glyphicon.glyphicon-arrow-left
                        span &nbsp;
                    else
                        span.hint.glyphicon.glyphicon-arrow-left(style='color:lightgray')
                        span &nbsp;&nbsp;
                    each page, i in pagesarr
                        if (page == page_id)
                            span: b #{page}&nbsp;
                        else
                            span: a(href='/users/all/page/' + page)= page
                            span &nbsp;
                    if (page_id < pagesarr.length)
                        a(href='/users/all/page/' + (parseInt(page_id) + 1)): span.hint.glyphicon.glyphicon-arrow-right
                    else
                        span.hint.glyphicon.glyphicon-arrow-right(style='color:lightgray')
        div.col-lg-4